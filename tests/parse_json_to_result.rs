#[cfg(test)]
mod tests {
    use lmscan_agent::block::Block;
    use lmscan_agent::library::common::parse_from_json_str;
    use lmscan_agent::transaction::{TransactionResult, TransactionWithResult};

    #[test]
    fn parse_tx_result() {
        let json = r#"[
            {"AddPublicKeySummariesResult":{"removed":{}}},
            {"BurnFungibleTokenResult":{ "outputAmount": 1000000000000000000000000000 }},
            {"EntrustFungibleTokenResult": { "remainder": 1000000000000000000000000000 }},
            {"ExecuteRewardResult": { "outputs" : {"a": 1000000000000000000000000000 }}},
            {"ExecuteOwnershipRewardResult": { "outputs" : {"a": 1000000000000000000000000000 }}},
            {"VoteSimpleAgendaResult":{ "votingAmount": "1000000000000000000000000000" }}
        ]"#;
        let res = parse_from_json_str::<Vec<TransactionResult>>(json);
        println!("{:?}", res);
    }

    #[test]
    fn parse_blc() {
        let json = r#"{"header":{"number":52021,"parentHash":"0f8a07863b3852a95fce0a4107ec2e7784fe34b1df35ff2d863454c63640efc8","stateRoot":{"account":{"namesRoot":"a849970a53dac53cb96d813d01fec13a94bb73b6675bfaa3d221f2c0be151f45","keyRoot":"e1cd362a402511ba5feda7976c4f66e52db3898e419f9941f4ebd7dfcf4150ce","ethRoot":"3b2d8146fe203615719ccaac4551d35a26a51d002db5693cf28edaef72b5506c"},"group":{"groupRoot":"ce94a5e131ce4c7efcbdbd33b820f4b5efbdf9b46a4d3d8dd5eeac110b6a85ee","groupAccountRoot":"83be691d3f1462e9a6f4d86bcfe721a4010548c15cd44a336344699b0d550752"},"token":{"tokenDefinitionRoot":"e538b07d488124e9513ba560ce7b56037134cda55f46cc95c4a2da9235492f15","fungibleBalanceRoot":"a66f0f128110a26076a2d0075487fb21fa0f70d63d676ce6468dfb4911a0d230","nftBalanceRoot":"9ac623f5c32d23913f18a98bf745c811b59f8d74d52c2f2979b22edf433a4725","nftRoot":"c98bad83462b58999718c32791e7b0fc64a4198b879b52944c14c52f277e41bb","rarityRoot":"0bd451b9660c4d1f31d1d5602c79d7f81e0d650498da4d87ab4d5ca9565ff011","entrustFungibleBalanceRoot":"1683b579f202aae5f741f159d94da83ee423c0d6da164efa64d85c1055ab03b0","entrustNftBalanceRoot":"7fe3d1bdfa6828fca893f2673ca98228caeba9134b9a8d22be70b555ff554ca6"},"reward":{"dao":"76d6bf9b94878bdcb4cba3c0f6af61045aacb175a8051e526547e6dfb3331e1b","userActivity":null,"tokenReceived":null}},"transactionsRoot":"304801d26bf5df2b54f02140c5fa751a24164a74febf5c93eb49563aa0b49b14","timestamp":"2023-11-07T05:54:27.867Z"},"transactionHashes":["4a855307c8401baf96455e0238bfe3c0e63f0f87af558197fd160d60434fab7c","8b643aa2ba1a3e3ac7f55a75b42eeec10ceab0b53dcddc58d082552c7b09f73b","83bfc0cbc0f820c7472bc8587bcafdcfadb16c6b710ad4a083dcddb987923e4b","7a3228304d434c015ea255231ddf351085d4f5eecb46aa74938f892ec41d6516","75b986834ddc49d0d431694e41eeeebd78a1b6ccb9da40edd7d8e90176b66a43","3a6aa22c4d2ed08d9a985b5826ac17a14231176b4ace6b587e0be9a69a15fbf1","e95ccff7efe655b7307432a323aa8b2544b75758f570d6a35a4ffcda4868dcb5","66fb6463d860f23e52ccb14fd5febfd34a5645bf14eff54432e64d1a2469dbb9","6bcb8ab968ac40c19c2100de11bbcefe03b9b9cb3e0a0c0c89906ad29bb03ea9","2a717307f92b1a0064515fc41124044b399ca925ff9369cbaca03f8d3d15e2b9","f4483f917929385ea3c6fd8ff465640d3149c2c822752cf3766b65826790e7cf","dd614cadd94fc058b0aacfd4435fbc591ab859ead66a690f254c89a11830a452","9d0927c9ce9ef7a76d88f67342ac09ae419590550acd72943a1473bf5b10281f","9b590fb5193572ed585fd12cc0f6f7f573ce8a63d360066834eae9c9404583d6","35fd7e374e29789137df9fbb94e1fce8fa235a34ae4688e6effa3dc3333e3b29","80b2e24b9e578cc698151d3d3e272b44daf331efeee6c79b294f812e96d1607a","8bb4d35f61a96735599f416975ca4b9627dae3b3dfb79ea5d72943db5e47b2e6","5e95bb037e1eb00b1dee529009fa6df1ac224d6dd85090058c25b983afd50337","e436e19bec99b8a1dc8f6e41bcecaed98590a58c72ffee60b2e6ce346eaaa3e8","c92bba9495077768f5850af08ed1416a7fccdd4c96f0850b8370580390990d92","c41d4b2847562c1a579482b2f3e4a6f76c9f2b022d22c392f5324990d77783e2","ee4670ba6fe0f1564459965aa90664ceaf0d590ffdc1b7755566639c05b1b8d5","e0a988f66baf1294888c1d354361a4725d9a4107705b8dd7cea74861460c28f5","ef9b7caa11bdac7551c95220f09adf033236a893cef4273bb68bcb7b5a9d2c6a","7aa26e62397d9eda631012c85026cd574c6bc22633aee5160767c67d2f38bbeb","32e1b230f8f55504faaefc5a1b4c98df7189c478d3c0caaba138753bbd0cce8a","18efdcc503d8d640b712a14f067146ad30919c4f985488f6f81e8016236e3c0a","e37064c1c6f7b98b886972d5476949f722d26ca0d3d1bd7bc047dfae5d9ee6b7","e6537ff62c6e7d80c2e23f489c9561c436f8fd3957bd9604870dc8aa73408c24","66eb03df0fb1de061e743d22f4ba5dcf0f40b87f7e40acdfb09d9bbf4c9d12b1","2d3a197531ec18944bbd4556f6c97c3715741b8761b630d425cdab7afc553f76","6635b8ba5547315b5181654a1225effe908b2a11bd3ce84dd706c2f1ed697821","a5f149cba11f953bae872c4765f964e5a00662c3a93de1f0b0c17b362d5f239e","992341d74deccbfeed4492b5bba9cfbbca3a8388ee68ec31f7b48386e6424c2a","0f47d83183bc9341c1d7f1c2bdb429c22666b9bac5823accb4af4242e344e17e","2c1079d96086838f5fc0fe8fbc5547269cdd92cbf1c064333c3f1ab90ed28bae","3462f9be14504e6d83c8c6696e2dd5db8c0b6467f521522119f57151770d448e","35a02b3b787f665cfe02b50792209ce7894d5191669b00541de27c73d9e332cb","7226a653fd0f2ca504bf23beb41e0d154712c0e24b349b6ee8388c6728cd654a","0cde85f7912522e9a3a9309df0c03ce70fd74e0f76273bf7ce85628979058265","3bf4ee50c639e9e38a42931e748ce9036d4ba03fd1b301a8336a7f2e9d757278","0ff38254fdc1db536a0801bc8745b43efec87673bb51e69fbec77f6a47645752","f2fc2cc04cdd0a55bd295f120475b5fd4ebcab558ff12afffcca5b362dc28ddf","22cbc13e2c59756ec027e7bdea978951ad2ccf17bafbd83762e256b723a06369","aaf20baecc7e1cdbbc6c77ccd0dce71c32faf77c320312a82e15ce23a093ee18","8e0df787937e3fed4bcea4853655b4324709ed06344ae19551d3b0618f033da2","86c22318599865c0168929401cdf88f410d49dc2a96c8cca8aebed25a3032b2a","5f985ec1063156902626ab42897f75fa4b3971e71ccfff26b41ddc8ba4fe57c0","ebf09ad9c5938497d5ea41e5d9852ddee15f760437190c2e828898c8352cf35b","1794076781ae3332ca1e68189aaa4ad7ca148782eea80edf9aa33730788de133","96a989c7b6691a21d5c9b146bc823949bd7e37a53b3f7108724802dd93615971","b1fe5755402137a43abb0565b59d2c358ad948b4288e11038428bc5062681529","ee8c7853210f272928341588053842fd03fb1311003b9959b9793cc777768ce7","921e49114bee740c7c8238abad35b671adb8fd09658f1b232e9babcc4cde01d7","1772164ab3d3d2b047083adbfb2c8d8888df0718b31ca77261efbb5e4210d861","55739005061f6047ae7768a348de4e760ddf880059eef93653a74342e5fb0b80","181b196ecebf50e15992d33dfad403bd0643384612b3ed5c441137a12a358b6e","2dadf144b6206064d0a6d503e66ce456201ce5552bd3d626e3a956f422f151c6","852b3a58d5a328f433347fa98a8df8b626ef9df5b9d64fc3b79134de8eaa5f57","d42ca43c92df633f63861c21117bf5a3a54054bc1a6d5b59aa4d5f4519022e13","eb6bc87bf13009a1773b9680e9ffd9828f7c2ad24dd93a160e2f41652d0535e0","94f70279d66f18fcac60292687a941e205bde678bae0252ffeb033e28a6d0122","a8210c9c07df14b9858f01d2135317672209321f94cbc5d78ebb3cf7f3fc9845","096f6ae5b4c4774f6de5273ac33a060a63e74fdd2cab7a45511e7502cb4ebc2a","54320043666d927a25d1f54a32cb8bac8bf61f7a1fb558c55f24718dd549922b","85fb4a87b45528097673990a308c6d1edcc3c41b3921a81ccf16e994388ccb97","9213500a38d41a372f5ca07028f6f730ed1efc0af928bcfb113a0178ef4c65e6","da7a466943f98b56989e93b0d655d2d3140621afb861375cb9fc2b60e3d41e4f","80955e3bc93d1eead3e614ba9973d41c7df160c8be0fca65556b6c282eef6701","d91ff7da0abdeeaf19b98f7ddbaed6814c15c6adf2b6aae3d13083549ef4f2c5","4d7b23cc995511f6cc680dffab119a2af271bd22ee7a10e775053fe67acc0437","3d16c2e4f5f27de1dc017e5f7f32956cc8e60fedf8daf22188f54487bb549ee1","6a21950c938817b41b4421a936cc06c83ccbc2e60183197d3d658973e09ed4ce","52b4cc56a3145e9b379c213964da0a2b17f8e54c4a59c2b2589a1c00724e0021","ef052e089740ac8b1777b2aa6d614970283fa6eb0b5f72b16c5cbc5c098cfe87","893a74a9b5832f997df9029be1fbc0416f3c697031d7234c4bc11bafa65b52e9","8d1f9c084c0baa9026338fc82c70df85e6d63da0fe0a5eba10d9159ac06ac209","f03d9605e95056f4afc509d7e18a1ffee4da3f5f69be0f910a92c127fa3d1eba","731c09ae2cd779ba6dfaee06f6a669f2e8165145731bcc6eb4274c657804de61","2b552a7b9bfd1b46b9e2e21c4ecf0fdd36843c89d77b2fa4ae6c465ffccc8e3e","25a5633d86ecb8d94c48569c1463ed2a53f7c980efdfc6d94a5107acfab9ba47","6c0d96a1467feb41d37a2748f90999df9e9a24009c613b0369ef77818f1a2214","f027d5e252d8dd39b0a25db9276ed47d4bce1d2e49e7737bdf017da90289feb0","bac02fba5d1bb5ff599e4f5cc1ef9c71858c5399d520c8c382714e6aeaaf779d","2b4f5cdb2e20091fc68ac1ed633c3d0f05530cbafb93e5fea7756e64d0266b88","4fa024d10c0a5c3c6a21673eb6a80b26857a87102845b9920e9ec42af0753ed4","49348cec13a19fdeb1be0668078cc1548e92ebbcdb182b9847b1dd2436f43bc9","a7cf1d27bcc489c12359911c0f1490aa07b78bcfbf46b6bbb982b8a2f848b27a","2c8d2fe2fd80385203f982bf810df38a051cb984eea64911e524d0e7256fe5b4","f7b3e59f57ff18311814cc7cae17648f6731d6ecd5c3eee874e91c1af4339f5e","2b53d752d5d9b306df3f60f3f2390b480f4796cf3eebad6b9700b5d25a6675fd","dfdfef7792c558199a288c88f36cb60fa30b1bcf2aecb67e5882e41c21428a06","17ef886ad5709df251bc1fb1afc000ae55e92eedbf43388e555617676b898126","cc8d80305b079c487ce3f802d20a6b1e95ce80976fc83ef2a66aa1a31c1ca699","2fea677795130e067445c69e66a26db9f6c69e37f1faa91d4b58075ac35728a1","f8a45e0e07ffe75c6d768b531674cf1b2df76174842f53c5b16755c610ef5237","c9a61128f78e5e14b173c9fd79bbdb8a233f974c02f18b653adc793598513d3d","04917639ea309be2aa2925fb5675d6409fb2beb1d412dc81244ac1cff250491f","8d8b0099a80a7e46d26bc8e70c55f6d967ad740e8145eff3f9ee94c8cb3a748b","1e6874f8fbc7b0234a8eb07098c4990de37af6a8ccb7e1ecd9e95039a3d51892"],"votes":[{"v":28,"r":"7d6c2f8b6771699c9bbf1d6a0e7910fe600c22bf7c485d8b727798fbba5cccbc","s":"1a7ec8da8803c660a3ed634f6f3e03e399bb08d4051f2803e390834d5df7083a"}]}"#;
        let res = parse_from_json_str::<Block>(json);
        println!("{:?}", res);
    }

    #[test]
    fn parse_json() {
        let json = r#"{"signedTx":{"sig":{"sig":{"v":27,"r":"a34df11d75d9ff173c28c11b18707cc3af3f9d6ff4867927ea158ad1f855caa7","s":"398587057fa59178f521593dce810703b91b716e677e659b3778548cd5d0aee3"},"account":"4b49c1ad5c1973b49f4fb131bdfddc314bf9a957"},"value":{"TokenTx":{"TransferFungibleToken":{"networkId":1000,"createdAt":"2023-05-09T01:50:13Z","tokenDefinitionId":"LM","inputs":["5f697f88dbe1707fae31894181bd2c6caa96e167e61bfcb446014bd9ba8a7d64","6db51aeee2eef45a305ff6cf46c46586f4b157a0c4f20c2502ee46e0140a1063","87122e6a07144aabaca35bcdf54d6affab47b3df2a5de5b66db241cace687912"],"outputs":{"a33872f06008d878e033c2c8aa7c084280cb362d":30000000000000000000,"4b49c1ad5c1973b49f4fb131bdfddc314bf9a957":277816019685259999999980000000,"eth-gateway":500000000000000000000},"memo":null}}}},"result":null}"#;

        let res = parse_from_json_str::<TransactionWithResult>(&json);
        println!("{:?}", res);
        // println!("{:?}", res.result);
        // println!("{:?}", res.signed_tx);
        // println!("{:?}", res.signed_tx.value);
    }
}
